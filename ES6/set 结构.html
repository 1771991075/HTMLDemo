<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- 
        ES6 提供了新的数据结构  Set(集合)。它类似于数组，但是成员的值都是唯一的，没有重复的值。
    
        集合实现了 iterator 接口，所以可以使用『扩展运算符』和『for…of…』进行遍
    -->
    <script>

        //1.size属性 返回集合的元素个数
        var s1 = new Set();
        console.log(s1, s1.size);
        //2.Set函数可以接受一个数组作为参数，用来初始化。数组去重，得到是一个对象，用...转为真数组
        let s2 = new Set([1, 3, 1, 3, 3, 5, 5, 6]);
        console.log(s2);//{1, 3, 5, 6}  去过重的对象
        let arr = [...s2];//[1, 3, 5, 6]
        console.log(arr);
        // 数组去重
        let arr1 = ['hello', '1', 'hello', 'nice', 'nice', '1']

        let arr2 = [...new Set(arr1)];
        console.log(arr2);// ['hello', '1', 'nice']

        //方法
        // - add(value)：添加某个值，返回 Set 结构本身
        // - delete(value)：删除某个值，返回一个布尔值，表示删除是否成功
        // - has(value)：返回一个布尔值，表示该值是否为 Set 的成员
        // - clear()：清除所有成员，没有返回值

        let s3 = new Set();
        s3.add(11)
        s3.add(22).add(32)
        console.log(s3, s3.size);//{11, 22, 33} 3

        let flag = s3.delete(22);// 是元素的值，不是索引号
        console.log(s3, flag);//Set(2) {12, 33} true

        let flag1 = s3.has(11);
        console.log(flag1);

        s3.clear();
        console.log(s3);

        //  遍历
        let arr3 = [10, 20, 30]
        // for(var i in arr3){
        //      console.log(i,arr3[i]);
        // }

        for (var value of arr3) {
            console.log(value);//10  20  30
        }


        const s4 = new Set(["a", "a", "b", "b"]);
        for (let value of s4) {
            console.log(value);
        }
        s4.forEach((item) => {
            console.log(item);

        })

        /* 
        1.共性
        for of 和 for in都是用来遍历的属性
        
        2.区别
        for...in 语句用于遍历数组或者对象的属性（对数组或者对象的属性进行循环操作）。
        for in得到对对象的key或数组,字符串的下标
        for of和forEach一样,是直接得到值
        for of不能用于对象
        
        */
        let obj = { name: 'Tom', age: 18 }
        for (var value of obj) {
            console.log(value);//07set 结构.html:83 Uncaught TypeError: obj is not iterable  error
        }
    </script>
</body>

</html>